<div class="display" id="display">
    {if: $row.list}
    {loop: $row.list}
    <div class="col-md-3">
        <div class="card bg-success text-center" style="width: 30rem;">
            <div class="card-body">
                {if: $value.tanggal}
                <p style="background-color: green;padding: 0.5em;color: white;font-weight: 500;">{$value.tanggal}</p>
                {/if}
                <h2 class="card-title" id="{$value.namapoli}" data-value="{$value.namapoli}">
                    {$value.namapoli}
                </h2>
                <p class="card-text">
                    Jumlah Antrean : <br>
                    <span style="font-weight: 700;font-size: 2em;">{$value.jumlah_antrean}</span><br>
                </p>
                <p style="background-color: orange;padding: 0.5em;color: white;font-weight: 500;">Waktu
                    Layanan</p>
                <br>
                <div>
                    Rata - Rata Waktu Tunggu Loket : <br>
                    <span class="minetext" id="{$value.kodepoli}_1_{$value.tanggal}"
                        value="{$value.avg_waktu_task1}">{$value.avg_waktu_task1}
                    </span><br>
                </div>
                <div>
                    Rata - Rata Waktu Layanan Loket : <br>
                    <span class="minetext" id="{$value.kodepoli}_2_{$value.tanggal}"
                        value="{$value.avg_waktu_task2}">{$value.avg_waktu_task2}</span><br>
                </div>
                <div>
                    Rata - Rata Waktu Tunggu Poli : <br>
                    <span class="minetext" id="{$value.kodepoli}_3_{$value.tanggal}"
                        value="{$value.avg_waktu_task3}">{$value.avg_waktu_task3}
                    </span><br>
                </div>
                <div>
                    Rata - Rata Waktu Layanan Poli : <br>
                    <span class="minetext" id="{$value.kodepoli}_4_{$value.tanggal}"
                        value="{$value.avg_waktu_task4}">{$value.avg_waktu_task4}</span><br>
                </div>
                <div>
                    Rata - Rata Waktu Tunggu Farmasi : <br>
                    <span class="minetext" id="{$value.kodepoli}_5_{$value.tanggal}"
                        value="{$value.avg_waktu_task5}">{$value.avg_waktu_task5}</span><br>
                </div>
                <div>
                    Rata - Rata Waktu Layanan Farmasi : <br>
                    <span class="minetext" id="{$value.kodepoli}_6_{$value.tanggal}"
                        value="{$value.avg_waktu_task6}">{$value.avg_waktu_task6}</span><br>
                </div>
            </div>
        </div>
        <br>
    </div>
    <script>
        for (let index = 1; index < 7; index++) {
            const element = index;
            var cookieValue = document.getElementById('{$value.kodepoli}_' + element + '_{$value.tanggal}').getAttribute('value');
            // var date = new Date(0);

            const sec = parseInt(cookieValue, 10); // convert value to number if it's string
            let hours = Math.floor(sec / 3600); // get hours
            let minutes = Math.floor((sec - (hours * 3600)) / 60); // get minutes
            let seconds = sec - (hours * 3600) - (minutes * 60); //  get seconds
            // add 0 if value < 10; Example: 2 => 02
            if (hours < 10) { hours = "0" + hours; }
            if (minutes < 10) { minutes = "0" + minutes; }
            if (seconds < 10) { seconds = "0" + seconds; }
            var timeString = hours + ':' + minutes + ':' + seconds; // Return is HH : MM : SS

            // date.setSeconds(cookieValue); // specify value for SECONDS here
            // var timeString = date.toISOString().substr(11, 8);
            var span = document.getElementById('{$value.kodepoli}_' + element + '_{$value.tanggal}');
            span.textContent = timeString;
        }
    </script>
    {/loop}
    {/if}
</div>
